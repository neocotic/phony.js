/*!
 * phony.js v1.0.0
 * http://forchoon.com/projects/javascript/phony-js/
 *
 * Copyright 2011, Alasdair Mercer
 * Licensed under the GPL Version 3 license.
 */
(function(a){function q(a,b){if(typeof a==="string"){a=o(a.trim());if(!a||!/\s+/.test(a)){throw new Error("Invalid translation: "+a)}}else if(b&&a!==null){throw new TypeError("Invalid translation: "+a)}return a}function p(a,b,c,d){if(typeof b==="string"){if(c&&j(a)===-1){b=b.toLowerCase()}return b}var e=b.length>d?b[d]:b[0];e=e||b[0];return p(a,e||"",c)}function o(a){return a[0].toUpperCase()+a.substring(1).toLowerCase()}function n(a,b){var c=typeof b==="function";try{var d=a();if(c){return b(null,d)}else{return d}}catch(e){if(c){return b(e)}else{throw e}}}function m(a,b,c){if(typeof a!=="string"){throw new TypeError("Invalid value type: "+typeof a)}var d=a.trim().split(b);for(var e=0;e<d.length;e++){d[e]=d[e].split(c)}return d}function l(a,b){a=a.toUpperCase();for(var d=0;d<c.length;d++){if(typeof c[d][b]==="string"){if(c[d][b].toUpperCase()===a){return c[d]}}else{for(var e=0;e<c[d][b].length;e++){if(c[d][b][e]&&c[d][b][e].toUpperCase()===a){return c[d]}}}}}function k(a){if(typeof a==="string"){a=a.toUpperCase();if(typeof b[a]==="number"){return b[a]}}return b[e]}function j(a){if(a===a.toLowerCase()){return-1}else if(a===a.toUpperCase()){return 1}return 0}var b={ANSI:3,FAA:2,ICAO:1,ITU:0},c=[["A",["Alfa",null,null,"Alpha"]],["B","Bravo"],["C","Charlie"],["D","Delta"],["E","Echo"],["F","Foxtrot"],["G","Golf"],["H","Hotel"],["I","India"],["J",["Juliett",null,null,"Juliet"]],["K","Kilo"],["L","Lima"],["M","Mike"],["N","November"],["O","Oscar"],["P","Papa"],["Q","Quebec"],["R","Romeo"],["S","Sierra"],["T","Tango"],["U","Uniform"],["V","Victor"],["W","Whiskey"],["X","X-ray"],["Y","Yankee"],["Z","Zulu"],["0",["Nadazero",null,"Zero"]],["1",["Unaone",null,"One"]],["2",["Bissotwo",null,"Two"]],["3",["Terrathree",null,"Three"]],["4",["Kartefour",null,"Four"]],["5",["Pantafive",null,"Five"]],["6",["Soxisix",null,"Six"]],["7",["Setteseven",null,"Seven"]],["8",["Oktoeight",null,"Eight"]],["9",["Novenine","Niner","Nine"]],[".","Stop"],[".","Decimal"],["-","Dash"]],d=" ",e="ITU",f="Hundred",g=a.phony,h="Thousand",i="Space";var r={ALPHABETS:function(){var a=[];for(var c in b){if(b.hasOwnProperty(c)){a.push(c)}}return a}(),from:function(a,b){return n(function(){a=a||{};var b=k(a.alphabet),c=typeof a.caseSensitive==="undefined"?true:a.caseSensitive,e=c?d.toLowerCase():d,f="",g=a.message||"",h=c?i.toLowerCase():i;g=m(g,new RegExp(h,"i"),new RegExp(e,"i"));if(g){for(var j=0;j<g.length;j++){if(j>0){f+=" "}for(var n=0;n<g[j].length;n++){var o=l(g[j][n],1);if(o){f+=p(g[j][n],o[0],c,b)}}}}return f},b)},defineChar:function(a,b,d){return n(function(){if(typeof a!=="string"){throw new TypeError("Invalid character type: "+typeof a)}else if(typeof b!=="string"||typeof b!=="object"||typeof b.length!=="number"){throw new TypeError("Invalid translation type: "+typeof b)}if(a.length>1){throw new Error("Invalid character length: "+a.length)}if(typeof b==="string"){b=q(b)}else{for(var d=0;d<b.length;d++){b[d]=q(b[d],true);if(d===0&&!b[d]){throw new Error("Invalid default translation: "+transation[d])}}}a=a.toUpperCase();var e=l(a,0);if(e){e[1]=b}else{c.push([a,b])}},d)},to:function(a,b){return n(function(){a=a||{};var b=k(a.alphabet),c=typeof a.caseSensitive==="undefined"?true:a.caseSensitive,e=c?d.toLowerCase():d,f=!!a.omitSpace,g="",h=m(a.message||"",/\s+/,""),j=c?i.toLowerCase():i;if(h){for(var n=0;n<h.length;n++){if(n>0){g+=e;if(!f){g+=j+e}}for(var o=0;o<h[n].length;o++){if(o>0){g+=e}var q=l(h[n][o],0);if(q){g+=p(h[n][o],q[1],c,b)}}}}return g},b)},noConflict:function(){a.phony=g;return this},VERSION:"1.0.0"};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=r}exports.phony=r}else if(typeof define==="function"&&define.amd){define("phony",function(){return r})}else{a.phony=r}})(this)